<link rel="import" href="../polymer/polymer.html">

<script>
  Polymer({
    is: 'carbon-router',
    properties: {
      route: {
        type: Object,
        value: null,
        notify: true
      },

      queryParams: {
        type: Object,
        value: function() {return {};},
        notify: true
      },

      path: {
        type: String,
        notify: true,
        observer: '_pathChanged'
      }
    },
    observers: [
      '_routeChanged(route.prefix, route.path)'
    ],

    _pathChanged: function() {
      this.route = {
        prefix: '',
        path: this.path,
        queryParams: this.queryParams
      };
    },

    _routeChanged: function() {
      if (!this.route) {
        return;
      }
      this.path = this.route.prefix + this.route.path;
    }

  });
</script>
